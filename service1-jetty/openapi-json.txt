{"openapi":"3.1.0","info":{"title":"Music Band Management API","description":"Service 1 - Music Band Management (Jetty)","version":"1.0"},"servers":[{"url":"https://localhost:8443","description":"Service 1 Server"}],"paths":{"/api/bands/{id}":{"get":{"tags":["Music Band"],"summary":"Получить группу по ID","description":"Возвращает музыкальную группу по ID","operationId":"getMusicBandById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Группа найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}},"404":{"description":"Группа не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"put":{"tags":["Music Band"],"summary":"Обновить группу","description":"Обновляет данные существующей музыкальной группы по ID","operationId":"updateMusicBand","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandDTO"}}},"required":true},"responses":{"200":{"description":"Группа успешно обновлена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}},"404":{"description":"Группа не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Нарушение ограничений целостности данных","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Music Band"],"summary":"Удалить группу","description":"Удаляет музыкальную группу из коллекции по её ID","operationId":"deleteMusicBand","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"Группа успешно удалена"},"404":{"description":"Группа не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/bands":{"get":{"tags":["Music Band"],"summary":"Получить список групп","description":"Возвращает массив музыкальных групп с поддержкой сортировки, фильтрации и постраничного вывода","operationId":"getAllMusicBands","parameters":[{"name":"sortBy","in":"query","description":"Поле для сортировки (например: name, albumsCount, creationDate)","required":false,"schema":{"type":"string"}},{"name":"filterBy","in":"query","description":"Фильтр по любому полю (формат: field=value)","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Номер страницы","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Размер страницы","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Список групп успешно получен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}}}},"post":{"tags":["Music Band"],"summary":"Создать новую музыкальную группу","description":"Добавляет новую музыкальную группу в коллекцию","operationId":"createMusicBand","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandDTO"}}},"required":true},"responses":{"201":{"description":"Группа успешно создана","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}},"400":{"description":"Некорректные данные запроса","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Нарушение ограничений целостности данных","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/bands/search/name-contains":{"get":{"tags":["Music Band"],"summary":"Поиск групп по подстроке в названии","description":"Возвращает массив музыкальных групп, значение поля name которых содержит заданную подстроку","operationId":"getMusicBandsByNameSubstring","parameters":[{"name":"substring","in":"query","description":"Подстрока для поиска в названии группы","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Поиск выполнен успешно","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}},"400":{"description":"Параметр substring не указан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/bands/max-creation-date":{"get":{"tags":["Music Band"],"summary":"Получить группу с максимальной датой создания","description":"Возвращает один объект музыкальной группы, у которого значение поля creationDate является максимальным","operationId":"getMusicBandWithMaxCreationDate","responses":{"200":{"description":"Группа найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicBandResponse"}}}},"404":{"description":"Коллекция пуста","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/bands/albums/average":{"get":{"tags":["Music Band"],"summary":"Рассчитать среднее количество альбомов","description":"Возвращает среднее значение поля albumsCount для всех музыкальных групп в коллекции","operationId":"getAverageAlbumsCount","responses":{"200":{"description":"Среднее значение успешно рассчитано","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlbumsAverageResponse"}}}}}}}},"components":{"schemas":{"CoordinatesDTO":{"type":"object","properties":{"x":{"type":"integer","format":"int64"},"y":{"type":"number","format":"double"}}},"MusicBandDTO":{"type":"object","properties":{"name":{"type":"string","minLength":1},"coordinates":{"$ref":"#/components/schemas/CoordinatesDTO"},"numberOfParticipants":{"type":"integer","format":"int64"},"albumsCount":{"type":"integer","format":"int32"},"genre":{"type":"string"},"studio":{"$ref":"#/components/schemas/StudioDTO"}},"required":["coordinates","genre","name","studio"]},"StudioDTO":{"type":"object","properties":{"name":{"type":"string","minLength":1},"address":{"type":"string"}},"required":["name"]},"MusicBandResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"coordinates":{"$ref":"#/components/schemas/CoordinatesDTO"},"creationDate":{"type":"string","format":"date-time"},"numberOfParticipants":{"type":"integer","format":"int64"},"albumsCount":{"type":"integer","format":"int32"},"genre":{"type":"string"},"studio":{"$ref":"#/components/schemas/StudioDTO"}}},"ErrorResponse":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"AlbumsAverageResponse":{"type":"object","properties":{"average":{"type":"number","format":"double"}}}}}}